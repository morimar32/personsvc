* customize zap logs
  - https://stackoverflow.com/questions/52274353/how-to-custom-log-format-when-use-zap
  - https://medium.com/@amsokol.com/tutorial-part-3-how-to-develop-go-grpc-microservice-with-http-rest-endpoint-middleware-739aac8f1d7e
* connection string conversion from c# style to go style
* auth via JWT 
  - https://github.com/dgrijalva/jwt-go
  - https://github.com/grpc-ecosystem/go-grpc-middleware/tree/master/auth
  - https://github.com/kelseyhightower/grpc-hello-service
* pprof support - https://blog.golang.org/pprof
* expvars support - https://sysdig.com/blog/golang-expvar-custom-metrics/
* 
* 
* 

hey -n 5000 -c 100 "http://localhost:8080/api/v1/person/5c143efd-f6b1-4803-965b-06d37b1987bf"
curl http://localhost:6060/debug/pprof/profile > profile
go tool pprof -http=":8081" personsvc profile

curl http://localhost:6060/debug/pprof/goroutine  > profile.goroutine
curl http://localhost:6060/debug/pprof/heap  > profile.heap
curl http://localhost:6060/debug/pprof/threadcreate  > profile.thread
curl http://localhost:6060/debug/pprof/block  > profile.block
curl http://localhost:6060/debug/pprof/mutex  > profile.mutex

curl http://localhost:6060/debug/pprof/profile > profile
curl http://localhost:6060/debug/pprof/trace?seconds=5  > profile.trace


hey -n 5000 -c 500 "http://localhost:8080/api/v1/person/5c143efd-f6b1-4803-965b-06d37b1987bf"

ghz -n 5000 -c 100 --insecure --proto ./proto/person.proto --call person.Person/GetPerson -d '{"id":"5c143efd-f6b1-4803-965b-06d37b1987bf"}' 0.0.0.0:9090


--ZIP CODE DB
http://download.geonames.org/export/zip/


Summary:
  Count:        25,000
  Requests/sec: 3930.22

Latency distribution:
  50 % in 251.08 ms 
  75 % in 260.62 ms 
  90 % in 277.13 ms 
  95 % in 286.81 ms 
  99 % in 320.59 ms 



-----BASELINE
Summary:
  Total:        2.6173 secs
  Slowest:      0.2705 secs
  Fastest:      0.0013 secs
  Average:      0.0515 secs
  Requests/sec: 1910.3904
  
  Total data:   995000 bytes
  Size/request: 199 bytes

Response time histogram:
  0.001 [1]     |
  0.028 [328]   |■■■■
  0.055 [3660]  |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.082 [764]   |■■■■■■■■
  0.109 [141]   |■■
  0.136 [7]     |
  0.163 [0]     |
  0.190 [5]     |
  0.217 [11]    |
  0.244 [50]    |■
  0.271 [33]    |


Latency distribution:
  10% in 0.0347 secs
  25% in 0.0420 secs
  50% in 0.0472 secs
  75% in 0.0534 secs
  90% in 0.0616 secs
  95% in 0.0817 secs
  99% in 0.2355 secs

-----SPLUNK CLIENT SOCKET SETTINGS
Summary:
  Total:        2.5001 secs
  Slowest:      0.1583 secs
  Fastest:      0.0011 secs
  Average:      0.0492 secs
  Requests/sec: 1999.9275
  
  Total data:   995000 bytes
  Size/request: 199 bytes

Response time histogram:
  0.001 [1]     |
  0.017 [89]    |■■
  0.033 [278]   |■■■■■
  0.048 [2275]  |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.064 [1986]  |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.080 [221]   |■■■■
  0.095 [68]    |■
  0.111 [42]    |■
  0.127 [6]     |
  0.143 [13]    |
  0.158 [21]    |


Latency distribution:
  10% in 0.0369 secs
  25% in 0.0433 secs
  50% in 0.0477 secs
  75% in 0.0543 secs
  90% in 0.0616 secs
  95% in 0.0697 secs
  99% in 0.1040 secs

-----SPLUNK LOG WARNING OR HIGHER
Summary:
  Total:        0.7221 secs
  Slowest:      0.1361 secs
  Fastest:      0.0005 secs
  Average:      0.0139 secs
  Requests/sec: 6924.4658
  
  Total data:   995000 bytes
  Size/request: 199 bytes

Response time histogram:
  0.001 [1]     |
  0.014 [3239]  |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.028 [1575]  |■■■■■■■■■■■■■■■■■■■
  0.041 [82]    |■
  0.055 [31]    |
  0.068 [21]    |
  0.082 [22]    |
  0.095 [16]    |
  0.109 [3]     |
  0.123 [4]     |
  0.136 [6]     |


Latency distribution:
  10% in 0.0064 secs
  25% in 0.0088 secs
  50% in 0.0119 secs
  75% in 0.0162 secs
  90% in 0.0214 secs
  95% in 0.0251 secs
  99% in 0.0690 secs

-----HTTP SERVER REUSE PORTS
Summary:
  Total:        0.6722 secs
  Slowest:      0.0672 secs
  Fastest:      0.0005 secs
  Average:      0.0129 secs
  Requests/sec: 7438.1729
  
  Total data:   995000 bytes
  Size/request: 199 bytes

Response time histogram:
  0.000 [1]     |
  0.007 [811]   |■■■■■■■■■■■■■■
  0.014 [2402]  |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.021 [1208]  |■■■■■■■■■■■■■■■■■■■■
  0.027 [406]   |■■■■■■■
  0.034 [107]   |■■
  0.041 [39]    |■
  0.047 [5]     |
  0.054 [14]    |
  0.061 [4]     |
  0.067 [3]     |


Latency distribution:
  10% in 0.0059 secs
  25% in 0.0086 secs
  50% in 0.0117 secs
  75% in 0.0159 secs
  90% in 0.0214 secs
  95% in 0.0251 secs
  99% in 0.0353 secs

----GRPC OVER UNIX SOCKET
Summary:
  Total:        0.6768 secs
  Slowest:      0.0590 secs
  Fastest:      0.0005 secs
  Average:      0.0130 secs
  Requests/sec: 7387.6585
  
  Total data:   995000 bytes
  Size/request: 199 bytes

Response time histogram:
  0.001 [1]     |
  0.006 [561]   |■■■■■■■■■■■
  0.012 [2055]  |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.018 [1458]  |■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.024 [675]   |■■■■■■■■■■■■■
  0.030 [166]   |■■■
  0.036 [31]    |■
  0.041 [40]    |■
  0.047 [11]    |
  0.053 [1]     |
  0.059 [1]     |


Latency distribution:
  10% in 0.0061 secs
  25% in 0.0084 secs
  50% in 0.0119 secs
  75% in 0.0164 secs
  90% in 0.0214 secs
  95% in 0.0239 secs
  99% in 0.0357 secs

----IMPROVED JSON SERIALIZER
Summary:
  Total:        0.6585 secs
  Slowest:      0.0806 secs
  Fastest:      0.0005 secs
  Average:      0.0127 secs
  Requests/sec: 7592.9348
  
  Total data:   685000 bytes
  Size/request: 137 bytes

Response time histogram:
  0.001 [1]     |
  0.009 [1309]  |■■■■■■■■■■■■■■■■■■■
  0.017 [2701]  |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.025 [769]   |■■■■■■■■■■■
  0.033 [113]   |■■
  0.041 [39]    |■
  0.049 [42]    |■
  0.057 [6]     |
  0.065 [11]    |
  0.073 [6]     |
  0.081 [3]     |


Latency distribution:
  10% in 0.0057 secs
  25% in 0.0083 secs
  50% in 0.0118 secs
  75% in 0.0154 secs
  90% in 0.0196 secs
  95% in 0.0241 secs
  99% in 0.0425 secs

--GC TUNER
Summary:
  Total:        0.6151 secs
  Slowest:      0.0623 secs
  Fastest:      0.0005 secs
  Average:      0.0119 secs
  Requests/sec: 8129.1648
  
  Total data:   685000 bytes
  Size/request: 137 bytes

Response time histogram:
  0.000 [1]     |
  0.007 [629]   |■■■■■■■■■■
  0.013 [2616]  |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.019 [1401]  |■■■■■■■■■■■■■■■■■■■■■
  0.025 [221]   |■■■
  0.031 [23]    |
  0.038 [51]    |■
  0.044 [36]    |■
  0.050 [20]    |
  0.056 [1]     |
  0.062 [1]     |


Latency distribution:
  10% in 0.0062 secs
  25% in 0.0083 secs
  50% in 0.0111 secs
  75% in 0.0142 secs
  90% in 0.0175 secs
  95% in 0.0209 secs
  99% in 0.0391 secs




-------------------------------------------------
----docker, with GC tuning 64mb
Summary:
  Total:        1.6736 secs
  Slowest:      0.1610 secs
  Fastest:      0.0005 secs
  Average:      0.0400 secs
  Requests/sec: 5975.1153
  
  Total data:   1370000 bytes
  Size/request: 137 bytes

Response time histogram:
  0.001 [1]     |
  0.017 [801]   |■■■■■■■■■
  0.033 [3169]  |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.049 [3423]  |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.065 [1553]  |■■■■■■■■■■■■■■■■■■
  0.081 [591]   |■■■■■■■
  0.097 [302]   |■■■■
  0.113 [98]    |■
  0.129 [36]    |
  0.145 [24]    |
  0.161 [2]     |


Latency distribution:
  10% in 0.0182 secs
  25% in 0.0261 secs
  50% in 0.0366 secs
  75% in 0.0494 secs
  90% in 0.0657 secs
  95% in 0.0793 secs
  99% in 0.1048 secs

-------------------------------------------------
----docker, with GC tuning 128mb

Summary:
  Total:        1.5641 secs
  Slowest:      0.2199 secs
  Fastest:      0.0006 secs
  Average:      0.0370 secs
  Requests/sec: 6393.5216
  
  Total data:   1370000 bytes
  Size/request: 137 bytes

Response time histogram:
  0.001 [1]     |
  0.023 [2583]  |■■■■■■■■■■■■■■■■■■■■■
  0.044 [4954]  |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.066 [1652]  |■■■■■■■■■■■■■
  0.088 [361]   |■■■
  0.110 [176]   |■
  0.132 [149]   |■
  0.154 [82]    |■
  0.176 [31]    |
  0.198 [10]    |
  0.220 [1]     |


Latency distribution:
  10% in 0.0155 secs
  25% in 0.0221 secs
  50% in 0.0317 secs
  75% in 0.0443 secs
  90% in 0.0611 secs
  95% in 0.0831 secs
  99% in 0.1364 secs

-------------------------------------------------
----docker, with GC tuning 64mb behind nginx LB
Summary:
  Total:        2.8468 secs
  Slowest:      0.3943 secs
  Fastest:      0.0009 secs
  Average:      0.0684 secs
  Requests/sec: 3512.6995
  
  Total data:   1370000 bytes
  Size/request: 137 bytes

Response time histogram:
  0.001 [1]     |
  0.040 [1343]  |■■■■■■■■■
  0.080 [5748]  |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.119 [2409]  |■■■■■■■■■■■■■■■■■
  0.158 [422]   |■■■
  0.198 [50]    |
  0.237 [12]    |
  0.276 [5]     |
  0.316 [3]     |
  0.355 [4]     |
  0.394 [3]     |


Latency distribution:
  10% in 0.0369 secs
  25% in 0.0492 secs
  50% in 0.0640 secs
  75% in 0.0831 secs
  90% in 0.1048 secs
  95% in 0.1187 secs
  99% in 0.1521 secs

-------------------------------------------------------
Summary:
  Total:        0.4343 secs
  Slowest:      0.1593 secs
  Fastest:      0.0001 secs
  Average:      0.0105 secs
  Requests/sec: 23026.5789
  
  Total data:   1570000 bytes
  Size/request: 157 bytes

Response time histogram:
  0.000 [1]     |
  0.016 [9302]  |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.032 [401]   |■■
  0.048 [33]    |
  0.064 [12]    |
  0.080 [1]     |
  0.096 [5]     |
  0.112 [49]    |
  0.127 [46]    |
  0.143 [139]   |■
  0.159 [11]    |


Latency distribution:
  10% in 0.0036 secs
  25% in 0.0048 secs
  50% in 0.0064 secs
  75% in 0.0092 secs
  90% in 0.0142 secs
  95% in 0.0186 secs
  99% in 0.1310 secs
